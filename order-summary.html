<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Order Summary - Sa-eShop</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header class="main-header">
    <a href="shop.html" class="shop-title">Sa-eShop</a>
    <nav class="nav-links">
      <a href="shop.html">Shop</a>
      <a href="wishlist.html">Wishlist</a>
      <a href="cart.html">Cart</a>
    </nav>
  </header>
  <div class="container" style="max-width: 500px;">
    <h1>Order Summary</h1>
    <div id="order-details">
      <!-- Order details will be dynamically added here -->
    </div>
    <a href="shop.html" class="proceed-btn" style="margin-top:32px;">Continue Shopping</a>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const orderDetails = document.getElementById('order-details');
      // Try to get total from URL, else from localStorage
      let totalCost = new URLSearchParams(window.location.search).get('total');
      if (!totalCost || isNaN(parseFloat(totalCost))) {
        totalCost = localStorage.getItem('cartTotal') || "0.00";
      }

      // Generate Order ID
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      const orderId = `ORDRXXXXXX${hours}${minutes}${seconds}`;

      // Calculate Delivery Date (4 days from now)
      const deliveryDate = new Date(now);
      deliveryDate.setDate(now.getDate() + 4);
      const deliveryDateString = deliveryDate.toLocaleDateString('en-IN', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });

      orderDetails.innerHTML = `
        <div class="summary-item"><strong>Order ID:</strong> ${orderId}</div>
        <div class="summary-item"><strong>Delivery Date:</strong> ${deliveryDateString}</div>
        <div class="summary-item"><strong>Total Cost:</strong> â‚¹${parseFloat(totalCost).toFixed(2)}</div>
        <p style="margin-top:24px;font-size:1.15rem;">Thank you for your order!<br>Your items will be delivered soon.</p>
      `;

      // Optionally clear cart after order
      localStorage.removeItem('cart');
      localStorage.removeItem('cartTotal');
    });
  </script>
</body>
</html>